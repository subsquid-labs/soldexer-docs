---
title: "FAQ & Troubleshooting"
sidebarTitle: "FAQ"
description: "Frequently asked questions and common issues when developing with Squid SDK"
---

# FAQ & Troubleshooting

Common questions and solutions for developing with Squid SDK.

## Frequently Asked Questions

### Real-World Applications

#### What are some real-world applications for which Squid SDK was a good fit?

Squid SDK is well-suited for a wide range of blockchain indexing applications:


- **DEX Analytics** - Track swaps and liquidity pools across Solana DEXs
- **NFT Marketplaces** - Index NFT trades and collections on Solana
- **Program Analysis** - Monitor program interactions and account state changes
- **Real-time Bots** - Build bots with \<1/sec delay triggered by on-chain activity





<Tip>
  Squid SDK excels at applications requiring high-performance indexing, complex
  data transformations, and real-time processing.
</Tip>

### Technical Questions

#### How does Squid SDK handle unfinalized blocks?

The SQD Network serves finalized blocks and is typically ~1000 blocks behind the tip. Recent and unfinalized blocks are seamlessly handled by the SDK from a complementary RPC data source configured in your processor.

<Info>
  Potential chain reorganizations are automatically handled under the hood,
  ensuring data consistency.
</Info>

For detailed information, see [Indexing unfinalized blocks](/en/sdk/squid-sdk/resources/unfinalized-blocks).

#### What is the latency for the data served by the squid?

Since the ArrowSquid release, Squid SDK can ingest unfinalized blocks directly from an RPC endpoint, making indexing real-time with minimal latency.

<Tip>
  Configure your RPC endpoint in the processor to enable real-time indexing of
  the latest blocks.
</Tip>

#### How do I enable GraphQL subscriptions for local runs?

Add the `--subscription` flag to the `serve` command in your `commands.json`:

```json
{
  "commands": {
    "serve:dev": {
      "cmd": ["npx", "squid-graphql-server", "--subscription"]
    }
  }
}
```

<Note>
  See
  [Subscriptions](/en/sdk/squid-sdk/reference/openreader-server/configuration/subscriptions)
  for detailed configuration options.
</Note>

#### How do squids keep track of their sync progress?

Sync progress tracking depends on the data sink used:

**TypeORM Database**: Processors using [`TypeormDatabase`](/en/sdk/squid-sdk/resources/persisting-data/typeorm) store their state in a PostgreSQL schema (not a table). By default, the schema is called `squid_processor`.

<Note>
  The schema name must be overridden in [multiprocessor
  squids](/en/sdk/squid-sdk/resources/multichain).
</Note>

View sync status:

```sql
SELECT * FROM squid_processor.status;
```

Reset processor status:

```sql
DROP SCHEMA squid_processor CASCADE;
```

**File-based datasets**: Squids using [file-based storage](/en/sdk/squid-sdk/resources/persisting-data/file) store their status in `status.txt` by default. This can be customized using [database hooks](/en/sdk/squid-sdk/resources/persisting-data/file/#hooks).

#### Is there a healthcheck endpoint for the indexer?

Yes! The processor exposes Prometheus metrics at the `${process.env.PROMETHEUS_PORT}/metric` endpoint.

<Info>
  For squids deployed to SQD Cloud, metrics are publicly exposed. See
  [Monitoring in the Cloud](/en/cloud/resources/monitoring/) for details.
</Info>

#### Do squids have a debug mode?

Yes. Enable debug mode by setting the `SQD_DEBUG` environment variable:

```bash
# Enable all debug messages
SQD_DEBUG=*

# Enable specific namespace (e.g., SQD Network queries)
SQD_DEBUG=sqd:processor:archive
```

<Tip>
  Use specific namespaces to focus on particular components and reduce log noise
  during debugging.
</Tip>

## Troubleshooting

Many issues can be resolved by following the [best practices guide](/en/cloud/resources/best-practices) of SQD Cloud.

### Processor Issues


#### Instruction decoding errors on Solana

- Ensure that the instruction data matches the expected program IDL format. Verify that you're using the correct program ID and instruction discriminator.

- Check that the instruction accounts array matches the expected account layout for the instruction being decoded.

- If decoding fails, verify that the program IDL is up to date and matches the on-chain program version.





### Data Sink Issues

#### `QueryFailedError: relation "..." does not exist`

It is likely that the generated migrations in the `db/migrations` folder are outdated and do not match the schema file.
Recreate the migrations from scratch as detailed on [this page](/en/sdk/squid-sdk/resources/persisting-data/typeorm/#updating-after-schema-changes).

#### `Query runner already released. Cannot run queries anymore`, or `too late to perform db updates, make sure you haven't forgot to await on db query`

If your squid [saves its data to a database](/en/sdk/squid-sdk/resources/persisting-data/typeorm), all operations with the store are asynchronous. Make sure you `await` on all store operations like `upsert`, `update`, `find`, `save` etc.

You may find the [require-await](https://eslint.org/docs/latest/rules/require-await) eslint rule to be helpful.

#### `QueryFailedError: invalid byte sequence for encoding "UTF8": 0x00`

PostgreSQL doesn't support storing `NULL (\0x00)` characters in text fields. Usually the error occurs when a raw bytes string (like `UIntArray` or `Bytes`) is inserted into a `String` field. If this is the case, use hex encoding, e.g. using [`util-internal-hex`](https://github.com/subsquid/squid/tree/master/util/util-internal-hex) library. For addresses, use appropriate encoding for your chain type.

### GraphQL Issues

#### API queries are too slow

- Make sure all the necessary fields are [indexed](/en/sdk/squid-sdk/reference/schema-file/indexes-and-constraints/). The best way to do that is to perform the [query optimization procedure](/en/cloud/resources/query-optimization/).
- Annotate the schema and [set reasonable limits](/en/sdk/squid-sdk/reference/openreader-server/configuration/dos-protection/) for the incoming queries to protect against DoS attacks

#### `response might exceed the size limit`

Make sure the input query has limits set or the entities are decorated with `@cardinality`. We recommend using `XXXConnection` queries for pagination. For configuring limits and max response sizes, see [DoS protection](/en/sdk/squid-sdk/reference/openreader-server/configuration/dos-protection/).

